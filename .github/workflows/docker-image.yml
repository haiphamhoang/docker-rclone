name: Docker Image CI
on:
  workflow_dispatch:
    inputs:
      rclone_version:
        description: 'Version of rclone image you want to build. Example: v1.58.0'
        required: true
        type: string
  
jobs:
  build_image:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Build the Docker image
      run: docker build --no-cache --build-arg RCLONE_VERSION=${{ github.event.inputs.rclone_version }} -t rclonecron:${{ github.event.inputs.rclone_version }} -t rclonecron:latest  .
